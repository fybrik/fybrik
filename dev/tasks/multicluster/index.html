
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A cloud-native platform to control data usage">
      
      
      
      <link rel="icon" href="../../static/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.5.10">
    
    
      
        <title>Multicluster setup - Fybrik</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#multicluster-setup" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Fybrik" class="md-header__button md-logo" aria-label="Fybrik" data-md-component="logo">
      
  <img src="../../static/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Fybrik
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Multicluster setup
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/fybrik/fybrik" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    fybrik/fybrik
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      About
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../get-started/quickstart/" class="md-tabs__link">
        Get Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../concepts/introduction/" class="md-tabs__link">
        Concepts
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../control-plane-security/" class="md-tabs__link md-tabs__link--active">
        Tasks
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../reference/crds/" class="md-tabs__link">
        Reference
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../contribute/" class="md-tabs__link">
        Contribute
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../publications/" class="md-tabs__link">
      Publications
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Fybrik" class="md-nav__button md-logo" aria-label="Fybrik" data-md-component="logo">
      
  <img src="../../static/logo.png" alt="logo">

    </a>
    Fybrik
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fybrik/fybrik" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    fybrik/fybrik
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Get Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Get Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Get Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Notebook samples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Notebook samples" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Notebook samples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/pre-steps/" class="md-nav__link">
        Before we begin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/notebook-read/" class="md-nav__link">
        Notebook sample for the read flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/notebook-write/" class="md-nav__link">
        Notebook sample for the write flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/delete-sample/" class="md-nav__link">
        Sample for the delete flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/chaining-sample/" class="md-nav__link">
        Chaining sample
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/cleanup/" class="md-nav__link">
        Cleanup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/OneClickDemo/" class="md-nav__link">
        One Click Demo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Concepts" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/taxonomy/" class="md-nav__link">
        Taxonomy
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_4">
          Plugins
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plugins" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/connectors/" class="md-nav__link">
        Connectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/storage_manager/" class="md-nav__link">
        Storage manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/vault_plugins/" class="md-nav__link">
        HashiCorp Vault plugins
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/config-policies/" class="md-nav__link">
        IT Config Policies and Data Plane Optimization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/optimizer/" class="md-nav__link">
        Optimizer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Tasks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tasks" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tasks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../control-plane-security/" class="md-nav__link">
        Enable Control Plane Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using-opa/" class="md-nav__link">
        Using OPA for Data Governance
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Multicluster setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Multicluster setup
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#multicluster-operation-with-razee" class="md-nav__link">
    Multicluster operation with Razee
  </a>
  
    <nav class="md-nav" aria-label="Multicluster operation with Razee">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-razee-on-kubernetes" class="md-nav__link">
    Installing Razee on Kubernetes
  </a>
  
    <nav class="md-nav" aria-label="Installing Razee on Kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coordinator-cluster" class="md-nav__link">
    Coordinator cluster
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-cluster" class="md-nav__link">
    Remote cluster
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-using-ibm-satellite-config" class="md-nav__link">
    Installing using IBM Satellite Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-vault-for-multi-cluster-deployment" class="md-nav__link">
    Configure Vault for multi-cluster deployment
  </a>
  
    <nav class="md-nav" aria-label="Configure Vault for multi-cluster deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites-unless-fybrik-modules-are-running-on-the-same-cluster-as-the-vault-instance" class="md-nav__link">
    Prerequisites unless Fybrik modules are running on the same cluster as the Vault instance:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#before-you-begin" class="md-nav__link">
    Before you begin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-kubernetes-authentication-for-each-cluster-with-running-fybrik-modules" class="md-nav__link">
    Enabling Kubernetes authentication for each cluster with running Fybrik modules:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-vault-address-required-in-multi-cluster" class="md-nav__link">
    Configure Vault address (required in multi-cluster)
  </a>
  
    <nav class="md-nav" aria-label="Configure Vault address (required in multi-cluster)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-a-valuesyaml" class="md-nav__link">
    Option A — values.yaml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-b-helm-flag" class="md-nav__link">
    Option B — Helm Flag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combined-with-auth-path" class="md-nav__link">
    Combined with auth path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../custom-taxonomy/" class="md-nav__link">
        Using a Custom Taxonomy for Resource Validation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/" class="md-nav__link">
        Performance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../high-availability/" class="md-nav__link">
        High Availability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure/" class="md-nav__link">
        Infrastructure attributes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data-plane-optimization/" class="md-nav__link">
        Enabling data-plane optimization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../add-vault-plugin/" class="md-nav__link">
        Adding a new HashiCorp Vault Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../omd-discover-s3-asset/" class="md-nav__link">
        Discovering an S3 asset through the OpenMetadata UI
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/crds/" class="md-nav__link">
        API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Connectors API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Connectors API" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Connectors API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/connectors-datacatalog/" class="md-nav__link">
        Data catalog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/connectors-policymanager/" class="md-nav__link">
        Policy manager
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/connectors-storagemanager/" class="md-nav__link">
        Storage manager API
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Components" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/ddc/" class="md-nav__link">
        Data Distribution Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/katalog/" class="md-nav__link">
        Katalog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Contribute
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contribute" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Contribute
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/environment/" class="md-nav__link">
        Development Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/build-test/" class="md-nav__link">
        Build and Test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/flow/" class="md-nav__link">
        GitHub Workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_6" type="checkbox" id="__nav_6_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_6">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_6">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/documentation/" class="md-nav__link">
        Contribute Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/documentation/formatting/" class="md-nav__link">
        Formatting Standards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/documentation/style/" class="md-nav__link">
        Style Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_7" type="checkbox" id="__nav_6_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_7">
          Plugins
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plugins" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_7">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/modules/" class="md-nav__link">
        Module Development
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/openapi/" class="md-nav__link">
        Using OpenAPI Generator
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../publications/" class="md-nav__link">
        Publications
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#multicluster-operation-with-razee" class="md-nav__link">
    Multicluster operation with Razee
  </a>
  
    <nav class="md-nav" aria-label="Multicluster operation with Razee">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-razee-on-kubernetes" class="md-nav__link">
    Installing Razee on Kubernetes
  </a>
  
    <nav class="md-nav" aria-label="Installing Razee on Kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coordinator-cluster" class="md-nav__link">
    Coordinator cluster
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-cluster" class="md-nav__link">
    Remote cluster
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-using-ibm-satellite-config" class="md-nav__link">
    Installing using IBM Satellite Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-vault-for-multi-cluster-deployment" class="md-nav__link">
    Configure Vault for multi-cluster deployment
  </a>
  
    <nav class="md-nav" aria-label="Configure Vault for multi-cluster deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites-unless-fybrik-modules-are-running-on-the-same-cluster-as-the-vault-instance" class="md-nav__link">
    Prerequisites unless Fybrik modules are running on the same cluster as the Vault instance:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#before-you-begin" class="md-nav__link">
    Before you begin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-kubernetes-authentication-for-each-cluster-with-running-fybrik-modules" class="md-nav__link">
    Enabling Kubernetes authentication for each cluster with running Fybrik modules:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-vault-address-required-in-multi-cluster" class="md-nav__link">
    Configure Vault address (required in multi-cluster)
  </a>
  
    <nav class="md-nav" aria-label="Configure Vault address (required in multi-cluster)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-a-valuesyaml" class="md-nav__link">
    Option A — values.yaml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-b-helm-flag" class="md-nav__link">
    Option B — Helm Flag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combined-with-auth-path" class="md-nav__link">
    Combined with auth path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/fybrik/fybrik/edit/master/site/docs/tasks/multicluster.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="multicluster-setup">Multicluster setup</h1>
<p>Fybrik is dynamic in its multi cluster capabilities in that it has abstractions to support multiple
different cross-cluster orchestration mechanisms. Currently, only one multi cluster orchestration mechanism is implemented
and is using <a href="http://razee.io">Razee</a> for the orchestration.</p>
<h2 id="multicluster-operation-with-razee">Multicluster operation with Razee</h2>
<p>Razee is a multi-cluster continuous delivery tool for Kubernetes that can deploy software on remote clusters and track
the deployment status of such deployments. There are multiple ways to run Razee. The two described here are a vanilla open source deployment on your
own Kubernetes or as a managed service from a cloud provider. Due to the complex nature of installing Razee a managed service from a cloud provider is
recommended. 
It's possible to define a multicluster group name that groups clusters that are used in a Fybrik instance. This will restrict the clusters that 
are usable in the Fybrik instance to the ones that are registered in the specified Razee group. This is especially helpful if Razee is also 
used for different purposes than Fybrik or multiple Fybrik instances should be used under the same Razee installation.</p>
<p>In general there is a need for the following Razee components to be installed:</p>
<ul>
<li>Razee watch keeper (installed on all clusters)</li>
<li>Razee cluster subscription manager (installed on all clusters)</li>
<li>RazeeDash API (installed on coordinator cluster/as cloud service)</li>
</ul>
<p>Both methods below describe how the above components can be installed depending on what RazeeDash deployment method
is used.</p>
<h3 id="installing-razee-on-kubernetes">Installing Razee on Kubernetes</h3>
<h4 id="coordinator-cluster">Coordinator cluster</h4>
<p>An installation of the open source components is described <a href="https://razee.io/#get-razee">here</a>.
Please follow the instructions in the Razee documentation to install <a href="https://github.com/razee-io/Razee/blob/master/README.md#installing-razeedash">RazeeDash</a>,
<a href="https://github.com/razee-io/Razee/blob/master/README.md#installing-watch-keeper-in-every-cluster-that-you-want-to-monitor">Watch keeper</a> and
the <a href="https://github.com/razee-io/Razee/blob/master/README.md#automating-the-deployment-of-kubernetes-resources-across-clusters-and-environments">cluster subscription agent</a>.
At the moment Razee supports GitHub, GitHub Enterprise and BitBucket for the OAUTH Authentication of this installation.</p>
<p>Please be aware that the RazeeDash API needs to be reachable from all clusters. Thus, there may be the need for routes, ingresses or node ports
 in order to expose it to other networks and clusters.</p>
<!-- TODO maybe add a description on how to install it including openshift routes etc -->

<p>Once RazeeDash is installed the UI can be used to group registered clusters in a multicluster group that can be configured below.
The API Key can also be retrieved from the UI following these two steps.</p>
<ol>
<li>From the RazeeDash console, click the arrow icon in the upper right corner. Then, select Profile.</li>
<li>Copy the API key value. If no API key exists, click Generate to generate one.</li>
</ol>
<p>In order to configure Fybrik to use the installed Razee on Kubernetes the values of the helm charts have to be adapted
to the following:
<div class="highlight"><pre><span></span><code>coordinator:
  razee:
    # URL for Razee deployment
    url: &quot;https://your-razee-service:3333/graphql&quot;
    # Razee deployment with oauth API key authentication requires the apiKey parameter
    apiKey: &quot;&lt;your Razee X_API_KEY&gt;&quot;
    multiclusterGroup: &quot;&lt;your group name&gt;&quot;
</code></pre></div></p>
<h4 id="remote-cluster">Remote cluster</h4>
<p>The remote clusters only need the watch keeper and cluster subscription agents installed. The remote clusters do not need the coordinator component
of Fybrik. It's enough to follow <a href="https://github.com/razee-io/Razee/blob/master/README.md#installing-watch-keeper-in-every-cluster-that-you-want-to-monitor">this guide</a>
to install the agents and configure a group via the RazeeDash UI if needed.
The coordinator configuration would look like the following:
<div class="highlight"><pre><span></span><code>coordinator:
    enabled: false
</code></pre></div></p>
<h3 id="installing-using-ibm-satellite-config">Installing using IBM Satellite Config</h3>
<p>When using <a href="https://cloud.ibm.com/satellite">IBM Satellite Config</a> the RazeeDash API is running as a service in the
cloud and all custom resource distribution is handled by the cloud. The process here describes how an already existing Kubernetes
cluster can be registered and configured. </p>
<p>Prerequisites:</p>
<ul>
<li>An IBM Cloud Account</li>
<li>IBM Cloud Satellite service</li>
<li>IAM API Keys with access to IBM Cloud Satellite service</li>
</ul>
<p><img alt="IBM Satellite config" src="../../static/ibm_satellite_conf_cluster.png" /></p>
<p>The step below has to be executed for each cluster that should be added to
the Fybrik instance. This step is the same for coordinator and remote clusters.</p>
<ol>
<li>In the IBM Satellite Cloud service under the <strong>Clusters</strong> tab click on <strong>Register cluster</strong>.</li>
<li>Enter a cluster name in the popup dialog and click <strong>Register cluster</strong>. (Please don't use spaces in the name)</li>
<li>The next dialog will offer you a <code>kubectl</code> command that can be executed on the cluster that should be attached.</li>
<li>After executing the <code>kubectl</code> command the Razee services will be installed in the <code>razeedeploy</code> namespace and the cluster
   will show up in your cluster list (like in the picture above). This installs the watch keeper and cluster subscription components.</li>
<li>Create clusters groups by clicking on the <strong>Cluster groups</strong> tab: for each cluster create a group named <code>fybrik-&lt;cluster-name&gt;</code> and add the cluster to that group. In addition, create a single group for all the clusters: the name of this group is used when deploying the coordinator cluster as shown below.</li>
</ol>
<p>The next step is to configure Fybrik to use IBM Satellite config as multicluster orchestrator. This configuration is done via a 
Kubernetes secret that is created by the helm chart. Overwriting the <code>coordinator.razee</code> values in your deployment will make use of the
multicluster tooling.
A configuration using IBM Satellite Config would look like the following for the coordinator cluster:
<div class="highlight"><pre><span></span><code>coordinator:
  # Configures the Razee instance to be used by the coordinator manager in a multicluster setup
  razee:
    # IBM Cloud IAM API Key of a user or service account that have access to IBM Cloud Satellite Config
    iamKey: &quot;&lt;your IAM API KEY key&gt;&quot;
    multiclusterGroup: &quot;&lt;your group name&gt;&quot;
</code></pre></div></p>
<p>For the remote cluster the coordinator will be disabled:
<div class="highlight"><pre><span></span><code>coordinator:
    enabled: false
</code></pre></div></p>
<h2 id="configure-vault-for-multi-cluster-deployment">Configure Vault for multi-cluster deployment</h2>
<p>The Fybrik uses <a href="https://www.vaultproject.io/">HashiCorp Vault</a> to provide running Fybrik modules in the clusters with the dataset credentials when accessing data. This is done using <a href="https://www.vaultproject.io/docs/internals/plugins">Vault plugin system</a> as described in <a href="../../concepts/vault_plugins/">vault plugin page</a>.</p>
<p>This section describes steps for the Fybrik modules to authenticate with Vault, in order to obtain database credentials.</p>
<p>Some of the steps described below are not specific to the Fybrik project but rather are Vault specific and can be found in Vault-related online tutorials.</p>
<p>Module authentication is done by configuring Vault to use <a href="https://www.vaultproject.io/docs/auth/kubernetes">Kubernetes auth method</a> in each cluster. Using this method, the modules can authenticate to Vault by providing their service account token. Behind the scenes, Vault authenticates the token by submitting a TokenReview request to the API server of the Kubernetes cluster where the module is running.</p>
<h3 id="prerequisites-unless-fybrik-modules-are-running-on-the-same-cluster-as-the-vault-instance">Prerequisites unless Fybrik modules are running on the same cluster as the Vault instance:</h3>
<ol>
<li>The running Vault instance should have connectivity to the cluster API server for each cluster running Fybrik modules.</li>
<li>The running Vault instance should have an Ingress resource to enable Fybrik modules to get the credentials.</li>
</ol>
<h3 id="before-you-begin">Before you begin</h3>
<p>Ensure that you have the <a href="https://www.vaultproject.io/docs/commands">Vault v1.9.x</a> to execute Vault CLI commands.</p>
<h3 id="enabling-kubernetes-authentication-for-each-cluster-with-running-fybrik-modules">Enabling Kubernetes authentication for each cluster with running Fybrik modules:</h3>
<ol>
<li>Create a token reviewer service account called <code>vault-auth</code> in the <code>fybrik-system</code> namespace and give it permissions to create <code>tokenreviews.authentication.k8s.io</code> at the cluster scope:</li>
</ol>
<div class="highlight"><pre><span></span><code>apiVersion:<span class="w"> </span>v1
kind:<span class="w"> </span>ServiceAccount
metadata:
<span class="w">  </span>name:<span class="w"> </span>vault-auth
<span class="w">  </span>namespace:<span class="w"> </span>fybrik-system
---
apiVersion:<span class="w"> </span>v1
kind:<span class="w"> </span>Secret
metadata:
<span class="w">  </span>name:<span class="w"> </span>vault-auth
<span class="w">  </span>namespace:<span class="w"> </span>fybrik-system
<span class="w">  </span>annotations:
<span class="w">    </span>kubernetes.io/service-account.name:<span class="w"> </span>vault-auth
type:<span class="w"> </span>kubernetes.io/service-account-token
---
apiVersion:<span class="w"> </span>rbac.authorization.k8s.io/v1
kind:<span class="w"> </span>ClusterRoleBinding
metadata:
<span class="w">  </span>name:<span class="w"> </span>role-tokenreview-binding
roleRef:
<span class="w">  </span>apiGroup:<span class="w"> </span>rbac.authorization.k8s.io
<span class="w">  </span>kind:<span class="w"> </span>ClusterRole
<span class="w">  </span>name:<span class="w"> </span>system:auth-delegator
subjects:
<span class="w">  </span>-<span class="w"> </span>kind:<span class="w"> </span>ServiceAccount
<span class="w">    </span>name:<span class="w"> </span>vault-auth
<span class="w">    </span>namespace:<span class="w"> </span>fybrik-system
</code></pre></div>
<ol>
<li>
<p>Login to Vault:
<div class="highlight"><pre><span></span><code>vault<span class="w"> </span>login
</code></pre></div></p>
</li>
<li>
<p>Enable the Kubernetes auth method in a new path:
<div class="highlight"><pre><span></span><code>vault<span class="w"> </span>auth<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>-path<span class="o">=</span>&lt;auth<span class="w"> </span>path&gt;<span class="w"> </span>kubernetes
</code></pre></div></p>
</li>
<li>
<p>Use the /config endpoint to configure Vault to talk to Kubernetes:
<div class="highlight"><pre><span></span><code><span class="nv">TOKEN_REVIEW_JWT</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>secret<span class="w"> </span>vault-auth<span class="w"> </span>-n<span class="w"> </span>fybrik-system<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s2">&quot;{.data.token}&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>--decode<span class="k">)</span>
vault<span class="w"> </span>write<span class="w"> </span>auth/&lt;auth<span class="w"> </span>path&gt;/config<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">token_reviewer_jwt</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$TOKEN_REVIEW_JWT</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">kubernetes_host</span><span class="o">=</span>&lt;Kubernetes<span class="w"> </span>api<span class="w"> </span>server<span class="w"> </span>address&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">kubernetes_ca_cert</span><span class="o">=</span>@ca.crt
</code></pre></div>
More details on the parameters in the command above can be found in <a href="https://www.vaultproject.io/api/auth/kubernetes">Vault's documentation</a>.</p>
</li>
<li>
<p>Add the Vault policy and role to allow the modules to get the dataset credentials. More details on defining Vault policy for Fybrik can be found in <a href="../../concepts/vault_plugins/">HashiCorp Vault plugins page</a>. The Vault role which binds the policy to the modules can be defined in the following example:
<div class="highlight"><pre><span></span><code>vault<span class="w"> </span>write<span class="w"> </span>auth/&lt;auth<span class="w"> </span>path&gt;/role/module<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">bound_service_account_names</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">bound_service_account_namespaces</span><span class="o">=</span>&lt;modules<span class="w"> </span>namespace&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">policies</span><span class="o">=</span><span class="s2">&quot;allow-all-dataset-creds&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">ttl</span><span class="o">=</span>24h
</code></pre></div></p>
</li>
<li>Deploy the Fybrik helm chart with <code>--set cluster.vaultAuthPath=&lt;auth path&gt;</code> parameter</li>
</ol>
<h3 id="configure-vault-address-required-in-multi-cluster">Configure Vault address (required in multi-cluster)</h3>
<p>In a multi-cluster setup, the Fybrik Helm chart must know how modules in <strong>remote clusters</strong> can reach Vault. You must set <code>.Values.vault.address</code> to the <strong>Vault Ingress address</strong> (usually port 80 or 443).</p>
<h4 id="option-a-valuesyaml">Option A — values.yaml</h4>
<div class="highlight"><pre><span></span><code><span class="nt">vault</span><span class="p">:</span>
<span class="w">  </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://&lt;vault-ingress-host&gt;:443</span>
</code></pre></div>
<h4 id="option-b-helm-flag">Option B — Helm Flag</h4>
<div class="highlight"><pre><span></span><code>helm<span class="w"> </span>install<span class="w"> </span>fybrik<span class="w"> </span>fybrik-charts/fybrik<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span>vault.address<span class="o">=</span>https://&lt;vault-ingress-host&gt;:443
</code></pre></div>
<h4 id="combined-with-auth-path">Combined with auth path</h4>
<p>Often you will also need to configure the Kubernetes auth path at the same time:</p>
<div class="highlight"><pre><span></span><code>helm<span class="w"> </span>install<span class="w"> </span>fybrik<span class="w"> </span>fybrik-charts/fybrik<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span>vault.address<span class="o">=</span>https://&lt;vault-ingress-host&gt;:443<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span>cluster.vaultAuthPath<span class="o">=</span>&lt;auth<span class="w"> </span>path&gt;
</code></pre></div>
<p>Without this setting, modules running on remote clusters cannot authenticate against Vault.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../using-opa/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Using OPA for Data Governance" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Using OPA for Data Governance
            </div>
          </div>
        </a>
      
      
        
        <a href="../custom-taxonomy/" class="md-footer__link md-footer__link--next" aria-label="Next: Using a Custom Taxonomy for Resource Validation" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Using a Custom Taxonomy for Resource Validation
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Made with ❤️ by Fybrik contributors.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/fybrik/fybrik" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>