
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A cloud-native platform to control data usage">
      
      
      
      <link rel="icon" href="../../static/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.5.10">
    
    
      
        <title>Chaining sample - Fybrik</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#fybrikmodule-chaining-sample" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Fybrik" class="md-header__button md-logo" aria-label="Fybrik" data-md-component="logo">
      
  <img src="../../static/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Fybrik
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chaining sample
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/fybrik/fybrik" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    fybrik/fybrik
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      About
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../get-started/quickstart/" class="md-tabs__link md-tabs__link--active">
        Get Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../concepts/introduction/" class="md-tabs__link">
        Concepts
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../tasks/control-plane-security/" class="md-tabs__link">
        Tasks
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../reference/crds/" class="md-tabs__link">
        Reference
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../contribute/" class="md-tabs__link">
        Contribute
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../publications/" class="md-tabs__link">
      Publications
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Fybrik" class="md-nav__button md-logo" aria-label="Fybrik" data-md-component="logo">
      
  <img src="../../static/logo.png" alt="logo">

    </a>
    Fybrik
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fybrik/fybrik" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    fybrik/fybrik
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Get Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Get Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Get Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Notebook samples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Notebook samples" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Notebook samples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pre-steps/" class="md-nav__link">
        Before we begin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../notebook-read/" class="md-nav__link">
        Notebook sample for the read flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../notebook-write/" class="md-nav__link">
        Notebook sample for the write flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../delete-sample/" class="md-nav__link">
        Sample for the delete flow
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Chaining sample
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cleanup/" class="md-nav__link">
        Cleanup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/OneClickDemo/" class="md-nav__link">
        One Click Demo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Concepts" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/taxonomy/" class="md-nav__link">
        Taxonomy
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_4">
          Plugins
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plugins" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/connectors/" class="md-nav__link">
        Connectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/storage_manager/" class="md-nav__link">
        Storage manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/vault_plugins/" class="md-nav__link">
        HashiCorp Vault plugins
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/config-policies/" class="md-nav__link">
        IT Config Policies and Data Plane Optimization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/optimizer/" class="md-nav__link">
        Optimizer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Tasks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tasks" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tasks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/control-plane-security/" class="md-nav__link">
        Enable Control Plane Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/using-opa/" class="md-nav__link">
        Using OPA for Data Governance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/multicluster/" class="md-nav__link">
        Multicluster setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/custom-taxonomy/" class="md-nav__link">
        Using a Custom Taxonomy for Resource Validation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/performance/" class="md-nav__link">
        Performance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/high-availability/" class="md-nav__link">
        High Availability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/infrastructure/" class="md-nav__link">
        Infrastructure attributes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/data-plane-optimization/" class="md-nav__link">
        Enabling data-plane optimization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/add-vault-plugin/" class="md-nav__link">
        Adding a new HashiCorp Vault Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/omd-discover-s3-asset/" class="md-nav__link">
        Discovering an S3 asset through the OpenMetadata UI
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/crds/" class="md-nav__link">
        API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Connectors API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Connectors API" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Connectors API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/connectors-datacatalog/" class="md-nav__link">
        Data catalog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/connectors-policymanager/" class="md-nav__link">
        Policy manager
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/connectors-storagemanager/" class="md-nav__link">
        Storage manager API
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Components" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/ddc/" class="md-nav__link">
        Data Distribution Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/katalog/" class="md-nav__link">
        Katalog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Contribute
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contribute" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Contribute
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/environment/" class="md-nav__link">
        Development Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/build-test/" class="md-nav__link">
        Build and Test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/flow/" class="md-nav__link">
        GitHub Workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_6" type="checkbox" id="__nav_6_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_6">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_6">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/documentation/" class="md-nav__link">
        Contribute Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/documentation/formatting/" class="md-nav__link">
        Formatting Standards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/documentation/style/" class="md-nav__link">
        Style Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_7" type="checkbox" id="__nav_6_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_7">
          Plugins
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plugins" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_7">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/modules/" class="md-nav__link">
        Module Development
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/openapi/" class="md-nav__link">
        Using OpenAPI Generator
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../publications/" class="md-nav__link">
        Publications
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/fybrik/fybrik/edit/master/site/docs/samples/chaining-sample.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<!--




-->
<h1 id="fybrikmodule-chaining-sample">FybrikModule chaining sample</h1>
<p>This sample shows how to implement a use case where, based on the data source and governance policies, the Fybrik manager determines that it must deploy two FybrikModules to allow a workload access to a dataset. One FybrikModule handles reading the data and the second does the data transformation. Data is passed between the FybrikModules without writing to intermediate storage.</p>
<p>The data read in this example is the <code>userdata</code> dataset, a Parquet file found in https://github.com/Teradata/kylo/blob/master/samples/sample-data/parquet/userdata2.parquet. Two FybrikModules are available for use by the Fybrik control plane: the <a href="https://github.com/fybrik/arrow-flight-module">arrow-flight-module</a> and the <a href="https://github.com/fybrik/airbyte-module">airbyte-module</a>. Only the airbyte-module can give read access to the dataset. However, it does not have any data transformation capabilities. Therefore, to satisfy constraints, the Fybrik manager must deploy both modules: the airbyte module for reading the dataset, and the arrow-flight-module for transforming the dataset based on the governance policies.</p>
<p>To recreate this scenario, you will need a copy of the airbyte-module repository.</p>
<ol>
<li>
<p>Set the AIRBYTE_MODULE_DIR environment variable to be the path of the <code>airbyte-module</code> directory:
    <div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/tmp
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/fybrik/airbyte-module.git
<span class="nb">cd</span><span class="w"> </span>airbyte-module

<span class="nb">export</span><span class="w"> </span><span class="nv">AIRBYTE_MODULE_DIR</span><span class="o">=</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>
</code></pre></div></p>
</li>
<li>
<p>Install the Airbyte module:
    <div class="highlight"><pre><span></span><code><span class="w">   </span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>https://github.com/fybrik/airbyte-module/releases/latest/download/module.yaml<span class="w"> </span>-n<span class="w"> </span>fybrik-system
</code></pre></div></p>
</li>
<li>
<p>Install the arrow-flight module for transformations:
<div class="highlight"><pre><span></span><code><span class="w">  </span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>https://github.com/fybrik/arrow-flight-module/releases/latest/download/module.yaml<span class="w"> </span>-n<span class="w"> </span>fybrik-system
</code></pre></div></p>
</li>
<li>
<p>Next, register the data asset itself in the data catalog. The way to do it depends on the data catalog with which you are working:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">With OpenMetadata</label><label for="__tabbed_1_2">With Katalog</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>We use port-forwarding to send asset creation requests to the OpenMetadata connector.
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>port-forward<span class="w"> </span>svc/openmetadata-connector<span class="w"> </span>-n<span class="w"> </span>fybrik-system<span class="w"> </span><span class="m">8081</span>:8080<span class="w"> </span><span class="p">&amp;</span>
cat<span class="w"> </span><span class="s">&lt;&lt; EOF | curl -X POST localhost:8081/createAsset -d @-</span>
<span class="s">{</span>
<span class="s">  &quot;destinationCatalogID&quot;: &quot;openmetadata&quot;,</span>
<span class="s">  &quot;destinationAssetID&quot;: &quot;userdata&quot;,</span>
<span class="s">  &quot;details&quot;: {</span>
<span class="s">    &quot;dataFormat&quot;: &quot;parquet&quot;,</span>
<span class="s">    &quot;connection&quot;: {</span>
<span class="s">      &quot;name&quot;: &quot;https&quot;,</span>
<span class="s">      &quot;https&quot;: {</span>
<span class="s">        &quot;url&quot;: &quot;https://github.com/Teradata/kylo/raw/master/samples/sample-data/parquet/userdata2.parquet&quot;</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  &quot;resourceMetadata&quot;: {</span>
<span class="s">    &quot;name&quot;: &quot;test data&quot;,</span>
<span class="s">    &quot;geography&quot;: &quot;theshire &quot;,</span>
<span class="s">    &quot;tags&quot;: {</span>
<span class="s">      &quot;Purpose.finance&quot;: &quot;true&quot;</span>
<span class="s">    },</span>
<span class="s">    &quot;columns&quot;: [</span>
<span class="s">      {</span>
<span class="s">        &quot;name&quot;: &quot;first_name&quot;,</span>
<span class="s">        &quot;tags&quot;: {</span>
<span class="s">          &quot;PII.Sensitive&quot;: &quot;true&quot;</span>
<span class="s">        }</span>
<span class="s">      },</span>
<span class="s">      {</span>
<span class="s">        &quot;name&quot;: &quot;last_name&quot;,</span>
<span class="s">        &quot;tags&quot;: {</span>
<span class="s">          &quot;PII.Sensitive&quot;: &quot;true&quot;</span>
<span class="s">        }</span>
<span class="s">      },</span>
<span class="s">      {</span>
<span class="s">        &quot;name&quot;: &quot;birthdate&quot;,</span>
<span class="s">        &quot;tags&quot;: {</span>
<span class="s">          &quot;PII.Sensitive&quot;: &quot;true&quot;</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    ]</span>
<span class="s">  }</span>
<span class="s">}</span>
<span class="s">EOF</span>
</code></pre></div></p>
<p>The response from the OpenMetadata connector should look like this:
<div class="highlight"><pre><span></span><code><span class="o">{</span><span class="s2">&quot;assetID&quot;</span>:<span class="s2">&quot;openmetadata-https.default.openmetadata.userdata&quot;</span><span class="o">}</span>
</code></pre></div></p>
<p>The asset is now registered in the catalog. Store the asset ID in a <code>CATALOGED_ASSET</code> variable:
<div class="highlight"><pre><span></span><code><span class="nv">CATALOGED_ASSET</span><span class="o">=</span><span class="s2">&quot;openmetadata-https.default.openmetadata.userdata&quot;</span>
</code></pre></div></p>
</div>
<div class="tabbed-block">
<p><div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span><span class="nv">$AIRBYTE_MODULE_DIR</span>/fybrik/read-flow/asset.yaml
</code></pre></div>
The asset is now registered in the catalog. Store the asset ID in a CATALOGED_ASSET variable:
<div class="highlight"><pre><span></span><code><span class="nv">CATALOGED_ASSET</span><span class="o">=</span>fybrik-notebook-sample/userdata
</code></pre></div></p>
</div>
</div>
</div>
</li>
<li>
<p>Before creating a policy for accessing the asset, make sure that you clean up previously existing access policies:
   <div class="highlight"><pre><span></span><code><span class="nv">NS</span><span class="o">=</span><span class="s2">&quot;fybrik-system&quot;</span><span class="p">;</span><span class="w"> </span>kubectl<span class="w"> </span>-n<span class="w"> </span><span class="nv">$NS</span><span class="w"> </span>get<span class="w"> </span>configmap<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;/sample/{print $1}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w">  </span>kubectl<span class="w"> </span>delete<span class="w"> </span>-n<span class="w"> </span><span class="nv">$NS</span><span class="w"> </span>configmap
</code></pre></div></p>
</li>
<li>
<p>Create the policy to access the asset (we use a policy that requires redactions of <code>PII.Sensitive</code> columns):
   <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>fybrik-system<span class="w"> </span>create<span class="w"> </span>configmap<span class="w"> </span>sample-policy<span class="w"> </span>--from-file<span class="o">=</span><span class="nv">$AIRBYTE_MODULE_DIR</span>/fybrik/sample-policy-restrictive.rego
kubectl<span class="w"> </span>-n<span class="w"> </span>fybrik-system<span class="w"> </span>label<span class="w"> </span>configmap<span class="w"> </span>sample-policy<span class="w"> </span>openpolicyagent.org/policy<span class="o">=</span>rego
<span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>cm<span class="w"> </span>sample-policy<span class="w"> </span>-n<span class="w"> </span>fybrik-system<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.metadata.annotations.openpolicyagent\.org/policy-status}&#39;</span><span class="k">)</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s1">&#39;{&quot;status&quot;:&quot;ok&quot;}&#39;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;waiting for policy to be applied&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</code></pre></div></p>
</li>
<li>
<p>Create a <a href="../../reference/crds/#fybrikapplication"><code>FybrikApplication</code></a> resource to register the workload to the control plane of Fybrik. The value you place in the <code>dataSetID</code> field is your asset ID, as explained above.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOF | kubectl apply -f -</span>
<span class="s">apiVersion: app.fybrik.io/v1beta1</span>
<span class="s">kind: FybrikApplication</span>
<span class="s">metadata:</span>
<span class="s">  name: my-app</span>
<span class="s">  labels:</span>
<span class="s">    app: my-app</span>
<span class="s">spec:</span>
<span class="s">  selector:</span>
<span class="s">    workloadSelector:</span>
<span class="s">      matchLabels:</span>
<span class="s">        app: my-app</span>
<span class="s">  appInfo:</span>
<span class="s">    intent: Fraud Detection</span>
<span class="s">  data:</span>
<span class="s">    - dataSetID: ${CATALOGED_ASSET}</span>
<span class="s">      requirements:</span>
<span class="s">        interface:</span>
<span class="s">          protocol: fybrik-arrow-flight</span>
<span class="s">EOF</span>
</code></pre></div>
</li>
<li>
<p>After the FybrikApplication is applied, the Fybrik control plane attempts to create the data path for the application. Fybrik realizes that the Airbyte module can give the application access to the <code>userdata</code> dataset, and that the arrow-flight module could provide the redaction transformation. Fybrik deploys both modules in the <code>fybrik-blueprints</code> namespace. To verify that the Airbyte module and the arrow-flight module were indeed deployed, run:
   <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>fybrik-blueprints
</code></pre></div></p>
</li>
</ol>
<hr />
<blockquote>
<p><em>NOTE:</em> If you are using OpenShift cluster you will see that the deployment fails because OpenShift doesn't allow <code>privileged: true</code> value in <code>securityContext</code> field by default. Thus, you should add the service account of the module's deployment to the <code>privileged SCC</code> using the following command:
   <div class="highlight"><pre><span></span><code>oc<span class="w"> </span>adm<span class="w"> </span>policy<span class="w"> </span>add-scc-to-user<span class="w"> </span>privileged<span class="w"> </span>system:serviceaccount:fybrik-blueprints:&lt;SERVICE_ACCOUNT_NAME&gt;
</code></pre></div>
Then, the deployment will restart the failed pods and the pods in <code>fybrik-blueprints</code> namespace should start successfully.</p>
</blockquote>
<hr />
<p>You should see pods with names similar to:
   <div class="highlight"><pre><span></span><code>NAME<span class="w">                                                              </span>READY<span class="w">   </span>STATUS<span class="w">    </span>RESTARTS<span class="w">   </span>AGE
my-app60cf6ba8-a767-4313-aa39-b78495b625c7-airb-95c0f-airbz4rh8<span class="w">   </span><span class="m">2</span>/2<span class="w">     </span>Running<span class="w">   </span><span class="m">0</span><span class="w">          </span>88s
my-app60cf6ba8-a767-4313-aa39-b78495b625c7-arro-6f3f8-arro82dcb<span class="w">   </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">   </span><span class="m">0</span><span class="w">          </span>87s
</code></pre></div></p>
<ol>
<li>
<p>Wait for the FybrikModule pods to be ready by running:
   <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>pod<span class="w"> </span>--all<span class="w"> </span>--for<span class="o">=</span><span class="nv">condition</span><span class="o">=</span>ready<span class="w"> </span>-n<span class="w"> </span>fybrik-blueprints<span class="w"> </span>--timeout<span class="w"> </span>10m
</code></pre></div></p>
</li>
<li>
<p>Run the following commands to set the <code>CATALOGED_ASSET_MODIFIED</code> and the <code>ENDPOINT_HOSTNAME</code> environment variables:
   <div class="highlight"><pre><span></span><code><span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$CATALOGED_ASSET</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/\./\\\./g&#39;</span><span class="k">)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ENDPOINT_HOSTNAME</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-app<span class="w"> </span>-n<span class="w"> </span>fybrik-notebook-sample<span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;jsonpath={.status.assetStates.</span><span class="si">${</span><span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="si">}</span><span class="s2">.endpoint.fybrik-arrow-flight.hostname}&quot;</span><span class="k">)</span>
</code></pre></div></p>
</li>
<li>
<p>To verify that the Airbyte module gives access to the <code>userdata</code> dataset, run:
   <div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="nv">$AIRBYTE_MODULE_DIR</span>/helm/client
./deploy_airbyte_module_client_pod.sh
kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>my-shell<span class="w"> </span>-n<span class="w"> </span>default<span class="w"> </span>--<span class="w"> </span>python3<span class="w"> </span>/root/client.py<span class="w"> </span>--host<span class="w"> </span><span class="si">${</span><span class="nv">ENDPOINT_HOSTNAME</span><span class="si">}</span><span class="w"> </span>--port<span class="w"> </span><span class="m">80</span><span class="w"> </span>--asset<span class="w"> </span><span class="si">${</span><span class="nv">CATALOGED_ASSET</span><span class="si">}</span>
</code></pre></div>
   You should see the following output:
   <div class="highlight"><pre><span></span><code><span class="w">       </span>registration_dttm<span class="w">      </span>id<span class="w"> </span>first_name<span class="w"> </span>last_name<span class="w">  </span>email<span class="w">  </span>...<span class="w">     </span>country<span class="w"> </span>birthdate<span class="w">     </span>salary<span class="w">                     </span>title<span class="w"> </span>comments
<span class="m">0</span><span class="w">    </span><span class="m">2016</span>-02-03T13:36:39<span class="w">     </span><span class="m">1</span>.0<span class="w">      </span>XXXXX<span class="w">     </span>XXXXX<span class="w">  </span>XXXXX<span class="w">  </span>...<span class="w">   </span>Indonesia<span class="w">     </span>XXXXX<span class="w">  </span><span class="m">140249</span>.37<span class="w">  </span>Senior<span class="w"> </span>Financial<span class="w"> </span>Analyst<span class="w">         </span>
<span class="m">1</span><span class="w">    </span><span class="m">2016</span>-02-03T00:22:28<span class="w">     </span><span class="m">2</span>.0<span class="w">      </span>XXXXX<span class="w">     </span>XXXXX<span class="w">  </span>XXXXX<span class="w">  </span>...<span class="w">       </span>China<span class="w">     </span>XXXXX<span class="w">        </span>NaN<span class="w">                                   </span>
<span class="m">2</span><span class="w">    </span><span class="m">2016</span>-02-03T18:29:04<span class="w">     </span><span class="m">3</span>.0<span class="w">      </span>XXXXX<span class="w">     </span>XXXXX<span class="w">  </span>XXXXX<span class="w">  </span>...<span class="w">      </span>France<span class="w">     </span>XXXXX<span class="w">  </span><span class="m">236219</span>.26<span class="w">                   </span>Teacher<span class="w">         </span>
<span class="m">3</span><span class="w">    </span><span class="m">2016</span>-02-03T13:42:19<span class="w">     </span><span class="m">4</span>.0<span class="w">      </span>XXXXX<span class="w">     </span>XXXXX<span class="w">  </span>XXXXX<span class="w">  </span>...<span class="w">      </span>Russia<span class="w">     </span>XXXXX<span class="w">        </span>NaN<span class="w">    </span>Nuclear<span class="w"> </span>Power<span class="w"> </span>Engineer<span class="w">         </span>
<span class="m">4</span><span class="w">    </span><span class="m">2016</span>-02-03T00:15:29<span class="w">     </span><span class="m">5</span>.0<span class="w">      </span>XXXXX<span class="w">     </span>XXXXX<span class="w">  </span>XXXXX<span class="w">  </span>...<span class="w">      </span>France<span class="w">     </span>XXXXX<span class="w">   </span><span class="m">50210</span>.02<span class="w">             </span>Senior<span class="w"> </span>Editor<span class="w">         </span>
..<span class="w">                   </span>...<span class="w">     </span>...<span class="w">        </span>...<span class="w">       </span>...<span class="w">    </span>...<span class="w">  </span>...<span class="w">         </span>...<span class="w">       </span>...<span class="w">        </span>...<span class="w">                       </span>...<span class="w">      </span>...
<span class="m">995</span><span class="w">  </span><span class="m">2016</span>-02-03T13:36:49<span class="w">   </span><span class="m">996</span>.0<span class="w">      </span>XXXXX<span class="w">     </span>XXXXX<span class="w">  </span>XXXXX<span class="w">  </span>...<span class="w">       </span>China<span class="w">     </span>XXXXX<span class="w">  </span><span class="m">185421</span>.82<span class="w">                                  </span><span class="s2">&quot;</span>
<span class="s2">996  2016-02-03T04:39:01   997.0      XXXXX     XXXXX  XXXXX  ...    Malaysia     XXXXX  279671.68                                   </span>
<span class="s2">997  2016-02-03T00:33:54   998.0      XXXXX     XXXXX  XXXXX  ...      Poland     XXXXX  112275.78                                   </span>
<span class="s2">998  2016-02-03T00:15:08   999.0      XXXXX     XXXXX  XXXXX  ...  Kazakhstan     XXXXX   53564.76        Speech Pathologist         </span>
<span class="s2">999  2016-02-03T00:53:53  1000.0      XXXXX     XXXXX  XXXXX  ...     Nigeria     XXXXX  239858.70                                   </span>

<span class="s2">[1000 rows x 13 columns]</span>
</code></pre></div></p>
</li>
<li>
<p>Alternatively, one can access the <code>userdata</code> dataset from a Jupyter notebook, as described in the <a href="../notebook-read/#read-the-dataset-from-the-notebook">notebook sample</a>. To determine the virtual endpoint from which to access the data set, run:
   <div class="highlight"><pre><span></span><code><span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$CATALOGED_ASSET</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/\./\\\./g&#39;</span><span class="k">)</span>
<span class="nv">ENDPOINT_SCHEME</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-app<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">={</span>.status.assetStates.<span class="si">${</span><span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="si">}</span>.endpoint.fybrik-arrow-flight.scheme<span class="o">}</span><span class="k">)</span>
<span class="nv">ENDPOINT_HOSTNAME</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-app<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">={</span>.status.assetStates.<span class="si">${</span><span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="si">}</span>.endpoint.fybrik-arrow-flight.hostname<span class="o">}</span><span class="k">)</span>
<span class="nv">ENDPOINT_PORT</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-app<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">={</span>.status.assetStates.<span class="si">${</span><span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="si">}</span>.endpoint.fybrik-arrow-flight.port<span class="o">}</span><span class="k">)</span>
<span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">ENDPOINT_SCHEME</span><span class="si">}</span><span class="s2">://</span><span class="si">${</span><span class="nv">ENDPOINT_HOSTNAME</span><span class="si">}</span><span class="s2">:</span><span class="si">${</span><span class="nv">ENDPOINT_PORT</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></p>
</li>
</ol>
<p>Note that the virtual endpoint determined from the FybrikApplication status points to the arrow-flight transform module, although this is transparent to the user.</p>
<p>Insert a new notebook cell to install pandas and pyarrow packages:
   <div class="highlight"><pre><span></span><code>%pip<span class="w"> </span>install<span class="w"> </span>pandas<span class="w"> </span>pyarrow
</code></pre></div></p>
<p>Finally, given the endpoint value determined above, insert the following to a new notebook cell:
   <div class="highlight"><pre><span></span><code>import<span class="w"> </span>json
import<span class="w"> </span>pyarrow.flight<span class="w"> </span>as<span class="w"> </span>fl

<span class="c1"># Create a Flight client</span>
<span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>fl.connect<span class="o">(</span><span class="s1">&#39;&lt;ENDPOINT&gt;&#39;</span><span class="o">)</span>

<span class="c1"># Prepare the request</span>
<span class="nv">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;asset&quot;</span>:<span class="w"> </span><span class="s2">&quot;openmetadata-https.default.openmetadata.userdata&quot;</span>,
<span class="o">}</span>

<span class="c1"># Send request and fetch result as a pandas DataFrame</span>
<span class="nv">info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>client.get_flight_info<span class="o">(</span>fl.FlightDescriptor.for_command<span class="o">(</span>json.dumps<span class="o">(</span>request<span class="o">)))</span>
reader:<span class="w"> </span>fl.FlightStreamReader<span class="w"> </span><span class="o">=</span><span class="w"> </span>client.do_get<span class="o">(</span>info.endpoints<span class="o">[</span><span class="m">0</span><span class="o">]</span>.ticket<span class="o">)</span>
print<span class="o">(</span>reader.read_pandas<span class="o">())</span>
</code></pre></div></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../delete-sample/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Sample for the delete flow" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Sample for the delete flow
            </div>
          </div>
        </a>
      
      
        
        <a href="../cleanup/" class="md-footer__link md-footer__link--next" aria-label="Next: Cleanup" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Cleanup
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Made with ❤️ by Fybrik contributors.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/fybrik/fybrik" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>