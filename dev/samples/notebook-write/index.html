
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A cloud-native platform to control data usage">
      
      
      
      <link rel="icon" href="../../static/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.5.10">
    
    
      
        <title>Notebook sample for the write flow - Fybrik</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#notebook-sample-for-the-write-flow" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Fybrik" class="md-header__button md-logo" aria-label="Fybrik" data-md-component="logo">
      
  <img src="../../static/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Fybrik
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Notebook sample for the write flow
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/fybrik/fybrik" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    fybrik/fybrik
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      About
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../get-started/quickstart/" class="md-tabs__link md-tabs__link--active">
        Get Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../concepts/introduction/" class="md-tabs__link">
        Concepts
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../tasks/control-plane-security/" class="md-tabs__link">
        Tasks
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../reference/crds/" class="md-tabs__link">
        Reference
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../contribute/" class="md-tabs__link">
        Contribute
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../publications/" class="md-tabs__link">
      Publications
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Fybrik" class="md-nav__button md-logo" aria-label="Fybrik" data-md-component="logo">
      
  <img src="../../static/logo.png" alt="logo">

    </a>
    Fybrik
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fybrik/fybrik" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    fybrik/fybrik
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Get Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Get Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Get Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Notebook samples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Notebook samples" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Notebook samples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pre-steps/" class="md-nav__link">
        Before we begin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../notebook-read/" class="md-nav__link">
        Notebook sample for the read flow
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Notebook sample for the write flow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Notebook sample for the write flow
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-an-account-in-object-storage" class="md-nav__link">
    Create an account in object storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-resources-for-write-scenarios" class="md-nav__link">
    Deploy resources for write scenarios
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenario-one-write-is-forbidden-due-to-governance-restrictions" class="md-nav__link">
    Scenario one: write is forbidden due to governance restrictions
  </a>
  
    <nav class="md-nav" aria-label="Scenario one: write is forbidden due to governance restrictions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define-data-governance-policies-for-write" class="md-nav__link">
    Define data governance policies for write
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-fybrikapplication-resource-to-write-the-new-asset" class="md-nav__link">
    Create a FybrikApplication resource to write the new asset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cleanup-scenario-one" class="md-nav__link">
    Cleanup scenario one
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenario-two-write-new-data" class="md-nav__link">
    Scenario two: write new data
  </a>
  
    <nav class="md-nav" aria-label="Scenario two: write new data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define-data-access-policies-for-writing-the-data" class="md-nav__link">
    Define data access policies for writing the data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-a-jupyter-notebook" class="md-nav__link">
    Deploy a Jupyter notebook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-fybrikapplication-resource-associated-with-the-notebook" class="md-nav__link">
    Create a FybrikApplication resource associated with the notebook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-the-data-from-the-notebook" class="md-nav__link">
    Write the data from the notebook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-new-asset-through-openmetadata-ui" class="md-nav__link">
    View new asset through OpenMetadata UI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cleanup-scenario-two" class="md-nav__link">
    Cleanup scenario two
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenario-3-read-the-newly-written-data" class="md-nav__link">
    Scenario 3: Read the newly written data
  </a>
  
    <nav class="md-nav" aria-label="Scenario 3: Read the newly written data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-fybrikapplication-resource-to-read-the-data-for-the-notebook" class="md-nav__link">
    Create a FybrikApplication resource to read the data for the notebook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-the-dataset-from-the-notebook" class="md-nav__link">
    Read the dataset from the notebook
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup" class="md-nav__link">
    Cleanup
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../delete-sample/" class="md-nav__link">
        Sample for the delete flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../chaining-sample/" class="md-nav__link">
        Chaining sample
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cleanup/" class="md-nav__link">
        Cleanup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/OneClickDemo/" class="md-nav__link">
        One Click Demo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Concepts" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/taxonomy/" class="md-nav__link">
        Taxonomy
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_4">
          Plugins
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plugins" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/connectors/" class="md-nav__link">
        Connectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/storage_manager/" class="md-nav__link">
        Storage manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/vault_plugins/" class="md-nav__link">
        HashiCorp Vault plugins
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/config-policies/" class="md-nav__link">
        IT Config Policies and Data Plane Optimization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/optimizer/" class="md-nav__link">
        Optimizer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Tasks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tasks" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tasks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/control-plane-security/" class="md-nav__link">
        Enable Control Plane Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/using-opa/" class="md-nav__link">
        Using OPA for Data Governance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/multicluster/" class="md-nav__link">
        Multicluster setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/custom-taxonomy/" class="md-nav__link">
        Using a Custom Taxonomy for Resource Validation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/performance/" class="md-nav__link">
        Performance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/high-availability/" class="md-nav__link">
        High Availability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/infrastructure/" class="md-nav__link">
        Infrastructure attributes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/data-plane-optimization/" class="md-nav__link">
        Enabling data-plane optimization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/add-vault-plugin/" class="md-nav__link">
        Adding a new HashiCorp Vault Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/omd-discover-s3-asset/" class="md-nav__link">
        Discovering an S3 asset through the OpenMetadata UI
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/crds/" class="md-nav__link">
        API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Connectors API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Connectors API" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Connectors API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/connectors-datacatalog/" class="md-nav__link">
        Data catalog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/connectors-policymanager/" class="md-nav__link">
        Policy manager
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/connectors-storagemanager/" class="md-nav__link">
        Storage manager API
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Components" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/ddc/" class="md-nav__link">
        Data Distribution Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/katalog/" class="md-nav__link">
        Katalog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Contribute
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contribute" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Contribute
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/environment/" class="md-nav__link">
        Development Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/build-test/" class="md-nav__link">
        Build and Test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/flow/" class="md-nav__link">
        GitHub Workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_6" type="checkbox" id="__nav_6_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_6">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_6">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/documentation/" class="md-nav__link">
        Contribute Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/documentation/formatting/" class="md-nav__link">
        Formatting Standards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/documentation/style/" class="md-nav__link">
        Style Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_7" type="checkbox" id="__nav_6_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_7">
          Plugins
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plugins" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_7">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/modules/" class="md-nav__link">
        Module Development
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/openapi/" class="md-nav__link">
        Using OpenAPI Generator
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../publications/" class="md-nav__link">
        Publications
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-an-account-in-object-storage" class="md-nav__link">
    Create an account in object storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-resources-for-write-scenarios" class="md-nav__link">
    Deploy resources for write scenarios
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenario-one-write-is-forbidden-due-to-governance-restrictions" class="md-nav__link">
    Scenario one: write is forbidden due to governance restrictions
  </a>
  
    <nav class="md-nav" aria-label="Scenario one: write is forbidden due to governance restrictions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define-data-governance-policies-for-write" class="md-nav__link">
    Define data governance policies for write
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-fybrikapplication-resource-to-write-the-new-asset" class="md-nav__link">
    Create a FybrikApplication resource to write the new asset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cleanup-scenario-one" class="md-nav__link">
    Cleanup scenario one
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenario-two-write-new-data" class="md-nav__link">
    Scenario two: write new data
  </a>
  
    <nav class="md-nav" aria-label="Scenario two: write new data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define-data-access-policies-for-writing-the-data" class="md-nav__link">
    Define data access policies for writing the data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-a-jupyter-notebook" class="md-nav__link">
    Deploy a Jupyter notebook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-fybrikapplication-resource-associated-with-the-notebook" class="md-nav__link">
    Create a FybrikApplication resource associated with the notebook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-the-data-from-the-notebook" class="md-nav__link">
    Write the data from the notebook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-new-asset-through-openmetadata-ui" class="md-nav__link">
    View new asset through OpenMetadata UI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cleanup-scenario-two" class="md-nav__link">
    Cleanup scenario two
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenario-3-read-the-newly-written-data" class="md-nav__link">
    Scenario 3: Read the newly written data
  </a>
  
    <nav class="md-nav" aria-label="Scenario 3: Read the newly written data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-fybrikapplication-resource-to-read-the-data-for-the-notebook" class="md-nav__link">
    Create a FybrikApplication resource to read the data for the notebook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-the-dataset-from-the-notebook" class="md-nav__link">
    Read the dataset from the notebook
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup" class="md-nav__link">
    Cleanup
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/fybrik/fybrik/edit/master/site/docs/samples/notebook-write.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="notebook-sample-for-the-write-flow">Notebook sample for the write flow</h1>
<p>This sample shows three scenarios:</p>
<ol>
<li>
<p>how fybrik prevents writing a new asset due to governance restrictions.</p>
</li>
<li>
<p>how to write data generated by the workload to an object store.</p>
</li>
<li>
<p>how to read data from a dataset stored in an object store.</p>
</li>
</ol>
<p>In this sample you play multiple roles:</p>
<ul>
<li>
<p>As a data governance officer you setup data governance policies.</p>
</li>
<li>
<p>As a data user you specify your data usage requirements and use a notebook to write and read the data.</p>
</li>
</ul>
<h2 id="create-an-account-in-object-storage">Create an account in object storage</h2>
<p>Create an account in object storage of your choice such as AWS S3, IBM Cloud Object Storage or Ceph.
Make a note of the service endpoint and access credentials. You will need them later.</p>
<details class="tip">
<summary>Setup localstack</summary>
<p>For experimentation you can install localstack to your cluster instead of using a cloud service.</p>
<ol>
<li>Define variables for access key and secret key
  <div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">ACCESS_KEY</span><span class="o">=</span><span class="s2">&quot;myaccesskey&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">SECRET_KEY</span><span class="o">=</span><span class="s2">&quot;mysecretkey&quot;</span>
</code></pre></div></li>
<li>Install localstack to the currently active namespace and wait for it to be ready:</li>
</ol>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Kubernetes</label><label for="__tabbed_1_2">OpenShift</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>helm repo add localstack-charts https://localstack.github.io/helm-charts
helm install localstack localstack-charts/localstack \
     --version 0.4.3 \
     --set image.tag=&quot;1.2.0&quot; \
     --set startServices=&quot;s3&quot; \
     --set service.type=ClusterIP \
     --set livenessProbe.initialDelaySeconds=25
kubectl wait --for=condition=ready --all pod -n fybrik-notebook-sample --timeout=120s
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>helm repo add localstack-charts https://localstack.github.io/helm-charts
helm install localstack localstack-charts/localstack \
     --version 0.4.3 \
     --set image.tag=&quot;1.2.0&quot; \
     --set startServices=&quot;s3&quot; \
     --set service.type=ClusterIP \
     --set livenessProbe.initialDelaySeconds=25 \
     --set persistence.enabled=true \
     --set persistence.storageClass=ibmc-file-gold-gid \
     --set persistence.accessModes[0]=ReadWriteMany
kubectl wait --for=condition=ready --all pod -n fybrik-notebook-sample --timeout=120s
</code></pre></div>
</div>
</div>
</div>
<p>create a port-forward to communicate with localstack server:
  <div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>port-forward<span class="w"> </span>svc/localstack<span class="w"> </span><span class="m">4566</span>:4566<span class="w"> </span><span class="p">&amp;</span>
</code></pre></div>
3. Use <a href="https://aws.amazon.com/cli/">AWS CLI</a> to configure localstack server:
  <div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">REGION</span><span class="o">=</span>theshire
aws<span class="w"> </span>configure<span class="w"> </span><span class="nb">set</span><span class="w"> </span>aws_access_key_id<span class="w"> </span><span class="si">${</span><span class="nv">ACCESS_KEY</span><span class="si">}</span>
aws<span class="w"> </span>configure<span class="w"> </span><span class="nb">set</span><span class="w"> </span>aws_secret_access_key<span class="w"> </span><span class="si">${</span><span class="nv">SECRET_KEY</span><span class="si">}</span>
aws<span class="w"> </span>configure<span class="w"> </span><span class="nb">set</span><span class="w"> </span>region<span class="w"> </span><span class="si">${</span><span class="nv">REGION</span><span class="si">}</span>
</code></pre></div></p>
</details>
<h2 id="deploy-resources-for-write-scenarios">Deploy resources for write scenarios</h2>
<p>Register the credentials required for accessing the object storage. Replace the values for <code>access_key</code> and <code>secret_key</code> with the values from the object storage service that you used and run:</p>
<p><div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">cat &lt;&lt; EOF | kubectl apply -f -</span>
<span class="l l-Scalar l-Scalar-Plain">apiVersion</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Secret</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bucket-creds</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fybrik-system</span>
<span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Opaque</span>
<span class="nt">stringData</span><span class="p">:</span>
<span class="w">  </span><span class="nt">access_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${ACCESS_KEY}&quot;</span>
<span class="w">  </span><span class="nt">secret_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${SECRET_KEY}&quot;</span>
<span class="l l-Scalar l-Scalar-Plain">EOF</span>
</code></pre></div>
Then, register two storage accounts: one in <code>theshire</code> and one in <code>neverland</code>. Replace the value for <code>endpoint</code> with value from the object storage service that you used and run:</p>
<p><div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">cat &lt;&lt; EOF | kubectl apply -f -</span>
<span class="l l-Scalar l-Scalar-Plain">apiVersion</span><span class="p p-Indicator">:</span><span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">app.fybrik.io/v1beta2</span>
<span class="nt">kind</span><span class="p">:</span><span class="w">         </span><span class="l l-Scalar l-Scalar-Plain">FybrikStorageAccount</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">theshire-storage-account</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fybrik-system</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">theshire-object-store</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3</span>
<span class="w">  </span><span class="nt">geography</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">theshire</span>
<span class="w">  </span><span class="nt">s3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">endpoint</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http://localstack.fybrik-notebook-sample.svc.cluster.local:4566&quot;</span>
<span class="w">  </span><span class="nt">secretRef</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">bucket-creds</span>
<span class="l l-Scalar l-Scalar-Plain">EOF</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">cat &lt;&lt; EOF | kubectl apply -f -</span>
<span class="l l-Scalar l-Scalar-Plain">apiVersion</span><span class="p p-Indicator">:</span><span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">app.fybrik.io/v1beta2</span>
<span class="nt">kind</span><span class="p">:</span><span class="w">         </span><span class="l l-Scalar l-Scalar-Plain">FybrikStorageAccount</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">neverland-storage-account</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fybrik-system</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">neverland-object-store</span>
<span class="w">  </span><span class="nt">geography</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">neverland</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3</span>
<span class="w">  </span><span class="nt">s3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">endpoint</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http://localstack.fybrik-notebook-sample.svc.cluster.local:4566&quot;</span>
<span class="w">  </span><span class="nt">secretRef</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">bucket-creds</span>
<span class="l l-Scalar l-Scalar-Plain">EOF</span>
</code></pre></div></p>
<p>Note that for evaluation purposes the same object store is used for different regions in the storage accounts.</p>
<h2 id="scenario-one-write-is-forbidden-due-to-governance-restrictions">Scenario one: write is forbidden due to governance restrictions</h2>
<h3 id="define-data-governance-policies-for-write">Define data governance policies for write</h3>
<p>Define an <a href="https://www.openpolicyagent.org/">OpenPolicyAgent</a> policy to forbid the writing of personal data to regions <code>neverland</code> and <code>theshire</code> in datasets tagged with <code>Purpose.finance</code>. This policy prevents the writing as the deployed fybrik storage account resources applied are in <code>neverland</code> and <code>theshire</code>.</p>
<p>Below is the policy (written in <a href="https://www.openpolicyagent.org/docs/latest/policy-language/#what-is-rego">Rego</a> language):</p>
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="n">dataapi</span><span class="p">.</span><span class="n">authz</span>

<span class="c1"># If the conditions between the curly braces are true then Fybrik will get an object for the &quot;Deny&quot; action.</span>
<span class="n">rule</span><span class="p">[{</span><span class="s2">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Deny&quot;</span><span class="p">},</span><span class="w"> </span><span class="s2">&quot;policy&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">description</span><span class="p">}]</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s2">&quot;Forbid writing sensitive data to theshire object-stores in datasets tagged with `finance`&quot;</span>
<span class="w">    </span><span class="c1"># this condition is true if it is a write operation</span>
<span class="w">    </span><span class="nb">input</span><span class="p">.</span><span class="n">action</span><span class="p">.</span><span class="n">actionType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;write&quot;</span>
<span class="w">    </span><span class="c1"># this condition is true if the asset has &quot;Purpose.finance&quot; tag</span>
<span class="w">    </span><span class="nb">input</span><span class="p">.</span><span class="n">resource</span><span class="p">.</span><span class="n">metadata</span><span class="p">.</span><span class="n">tags</span><span class="p">[</span><span class="s2">&quot;Purpose.finance&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="c1"># this condition is true if write destination is theshire object-stores</span>
<span class="w">    </span><span class="nb">input</span><span class="p">.</span><span class="n">action</span><span class="p">.</span><span class="n">destination</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;theshire&quot;</span>
<span class="w">    </span><span class="c1"># this statement is true if one of the columns has &quot;PersonalData.Personal&quot; tag</span>
<span class="w">    </span><span class="nb">input</span><span class="p">.</span><span class="n">resource</span><span class="p">.</span><span class="n">metadata</span><span class="p">.</span><span class="n">columns</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">tags</span><span class="p">[</span><span class="s2">&quot;PersonalData.Personal&quot;</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1"># If the conditions between the curly braces are true then Fybrik will get an object for the &quot;Deny&quot; action.</span>
<span class="n">rule</span><span class="p">[{</span><span class="s2">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Deny&quot;</span><span class="p">},</span><span class="w"> </span><span class="s2">&quot;policy&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">description</span><span class="p">}]</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s2">&quot;Forbid writing sensitive data to neverland object-stores in datasets tagged with `finance`&quot;</span>
<span class="w">    </span><span class="c1"># this condition is true if it is a write operation</span>
<span class="w">    </span><span class="nb">input</span><span class="p">.</span><span class="n">action</span><span class="p">.</span><span class="n">actionType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;write&quot;</span>
<span class="w">    </span><span class="c1"># this condition is true if the asset has &quot;Purpose.finance&quot; tag</span>
<span class="w">    </span><span class="nb">input</span><span class="p">.</span><span class="n">resource</span><span class="p">.</span><span class="n">metadata</span><span class="p">.</span><span class="n">tags</span><span class="p">[</span><span class="s2">&quot;Purpose.finance&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="c1"># this condition is true if write destination is neverland object-stores</span>
<span class="w">    </span><span class="nb">input</span><span class="p">.</span><span class="n">action</span><span class="p">.</span><span class="n">destination</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;neverland&quot;</span>
<span class="w">    </span><span class="c1"># this statement is true if one of the columns has &quot;PersonalData.Personal&quot; tag</span>
<span class="w">    </span><span class="nb">input</span><span class="p">.</span><span class="n">resource</span><span class="p">.</span><span class="n">metadata</span><span class="p">.</span><span class="n">columns</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">tags</span><span class="p">[</span><span class="s2">&quot;PersonalData.Personal&quot;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>For more details on OPA policies please refer to <a href="https://fybrik.io/dev/tasks/using-opa/">Using OPA for Data Governance</a> task.</p>
<p>Copy the policy to a file named <code>sample-policy-write.rego</code> and then run:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>fybrik-system<span class="w"> </span>create<span class="w"> </span>configmap<span class="w"> </span>sample-policy-write<span class="w"> </span>--from-file<span class="o">=</span>sample-policy-write.rego
kubectl<span class="w"> </span>-n<span class="w"> </span>fybrik-system<span class="w"> </span>label<span class="w"> </span>configmap<span class="w"> </span>sample-policy-write<span class="w"> </span>openpolicyagent.org/policy<span class="o">=</span>rego
<span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>cm<span class="w"> </span>sample-policy-write<span class="w"> </span>-n<span class="w"> </span>fybrik-system<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.metadata.annotations.openpolicyagent\.org/policy-status}&#39;</span><span class="k">)</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s1">&#39;{&quot;status&quot;:&quot;ok&quot;}&#39;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;waiting for policy to be applied&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</code></pre></div>
<h3 id="create-a-fybrikapplication-resource-to-write-the-new-asset">Create a <code>FybrikApplication</code> resource to write the new asset</h3>
<p>Create a <a href="../../reference/crds/#fybrikapplication"><code>FybrikApplication</code></a> resource to register the notebook workload to the control plane of Fybrik: </p>
<!-- TODO: role field removed but code still requires it -->
<div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">cat &lt;&lt;EOF | kubectl apply -f -</span>
<span class="l l-Scalar l-Scalar-Plain">apiVersion</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app.fybrik.io/v1beta1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FybrikApplication</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-notebook-write</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fybrik-notebook-sample</span>
<span class="w">  </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-notebook-write</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">clusterName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">thegreendragon</span>
<span class="w">    </span><span class="nt">workloadSelector</span><span class="p">:</span>
<span class="w">      </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">        </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-notebook-write</span>
<span class="w">  </span><span class="nt">appInfo</span><span class="p">:</span>
<span class="w">    </span><span class="nt">intent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Fraud Detection</span>
<span class="w">  </span><span class="nt">data</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">dataSetID</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;new-data&#39;</span>
<span class="w">      </span><span class="nt">flow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
<span class="w">      </span><span class="nt">requirements</span><span class="p">:</span>
<span class="w">        </span><span class="nt">flowParams</span><span class="p">:</span>
<span class="w">          </span><span class="nt">isNewDataSet</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">          </span><span class="nt">catalog</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fybrik-notebook-sample</span>
<span class="w">          </span><span class="nt">metadata</span><span class="p">:</span>
<span class="w">            </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">              </span><span class="nt">Purpose.finance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">            </span><span class="nt">columns</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nameOrig</span>
<span class="w">                </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">PII.Sensitive</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">oldbalanceOrg</span>
<span class="w">                </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">PersonalData.Personal</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">interface</span><span class="p">:</span>
<span class="w">          </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fybrik-arrow-flight</span>
<span class="l l-Scalar l-Scalar-Plain">EOF</span>
</code></pre></div>
<p>Notice that:</p>
<ul>
<li>The <code>selector</code> field matches the labels of our Jupyter notebook workload.</li>
<li>The <code>data</code> field includes a <code>dataSetID</code> that matches the asset identifier in the catalog.</li>
<li>The <code>protocol</code> indicates that the developer wants to consume the data using Apache Arrow Flight. For some protocols a <code>dataformat</code> can be specified as well (e.g., <code>s3</code> protocol and <code>parquet</code> format).</li>
<li>The <code>isNewDataSet</code> field indicates is a new asset.</li>
<li>The <code>catalog</code> field holds the catalog id. It will be used by fybrik to register the new asset in the catalog.</li>
<li><code>metadata</code> field specifies the dataset tags. These attributes can later be used in policies.</li>
</ul>
<p>Run the following command to wait until the <code>FybrikApplication</code> status is updated:</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-write<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.status.ready}&#39;</span><span class="k">)</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;waiting for FybrikApplication&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
<span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-write<span class="w"> </span>-n<span class="w"> </span>fybrik-notebook-sample<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.status.assetStates.new-data.conditions[?(@.type == &quot;Deny&quot;)].status}&#39;</span><span class="k">)</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;True&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;waiting for my-notebook-write asset&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</code></pre></div>
<p>We expect the asset's status in <code>FybrikApplication.status</code> to be <code>denied</code> due to the policy defined above. Next, a new policy will be applied which will allow the writing to <code>theshire</code> object store.</p>
<h3 id="cleanup-scenario-one">Cleanup scenario one</h3>
<p>Before proceeding to scenario two the OPA policy and fybrikapplications should be deleted:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>delete<span class="w"> </span>cm<span class="w"> </span>sample-policy-write<span class="w"> </span>-n<span class="w"> </span>fybrik-system
kubectl<span class="w"> </span>delete<span class="w"> </span>fybrikapplications.app.fybrik.io<span class="w"> </span>my-notebook-write<span class="w"> </span>-n<span class="w"> </span>fybrik-notebook-sample
</code></pre></div>
<p>Notice that <code>FybrikStorageAccount</code> resources are still applied after the cleanup.</p>
<h2 id="scenario-two-write-new-data">Scenario two: write new data</h2>
<p>To write the new data a new policy should be defined.</p>
<h3 id="define-data-access-policies-for-writing-the-data">Define data access policies for writing the data</h3>
<p>Define an <a href="https://www.openpolicyagent.org/">OpenPolicyAgent</a> policy to return the list of column names tagged as <code>PersonalData.Personal</code>, whose destination is not neverland, when the actionType is write. The columns are passed to the <code>FybrikModule</code> together with RedactAction upon deployment of the module by Fybrik.
Below is the policy (written in <a href="https://www.openpolicyagent.org/docs/latest/policy-language/#what-is-rego">Rego</a> language):</p>
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="n">dataapi</span><span class="p">.</span><span class="n">authz</span>

<span class="n">rule</span><span class="p">[{</span><span class="s2">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;RedactAction&quot;</span><span class="p">,</span><span class="s2">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">column_names</span><span class="p">},</span><span class="w"> </span><span class="s2">&quot;policy&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">description</span><span class="p">}]</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s2">&quot;Redact written columns tagged as PersonalData.Personal in datasets tagged with Purpose.finance = true. The data should not be stored in `neverland` storage account&quot;</span>
<span class="w">  </span><span class="nb">input</span><span class="p">.</span><span class="n">action</span><span class="p">.</span><span class="n">actionType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;write&quot;</span>
<span class="w">  </span><span class="nb">input</span><span class="p">.</span><span class="n">resource</span><span class="p">.</span><span class="n">metadata</span><span class="p">.</span><span class="n">tags</span><span class="p">[</span><span class="s2">&quot;Purpose.finance&quot;</span><span class="p">]</span>
<span class="w">  </span><span class="nb">input</span><span class="p">.</span><span class="n">action</span><span class="p">.</span><span class="n">destination</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">&quot;neverland&quot;</span>
<span class="w">  </span><span class="n">column_names</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[</span><span class="nb">input</span><span class="p">.</span><span class="n">resource</span><span class="p">.</span><span class="n">metadata</span><span class="p">.</span><span class="n">columns</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">input</span><span class="p">.</span><span class="n">resource</span><span class="p">.</span><span class="n">metadata</span><span class="p">.</span><span class="n">columns</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">tags</span><span class="p">[</span><span class="s2">&quot;PersonalData.Personal&quot;</span><span class="p">]]</span>
<span class="p">}</span>
</code></pre></div>
<p>Copy the policy to a file named <code>sample-policy-write.rego</code> and then run:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>-n<span class="w"> </span>fybrik-system<span class="w"> </span>create<span class="w"> </span>configmap<span class="w"> </span>sample-policy-write<span class="w"> </span>--from-file<span class="o">=</span>sample-policy-write.rego
kubectl<span class="w"> </span>-n<span class="w"> </span>fybrik-system<span class="w"> </span>label<span class="w"> </span>configmap<span class="w"> </span>sample-policy-write<span class="w"> </span>openpolicyagent.org/policy<span class="o">=</span>rego
<span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>cm<span class="w"> </span>sample-policy-write<span class="w"> </span>-n<span class="w"> </span>fybrik-system<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.metadata.annotations.openpolicyagent\.org/policy-status}&#39;</span><span class="k">)</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s1">&#39;{&quot;status&quot;:&quot;ok&quot;}&#39;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;waiting for policy to be applied&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</code></pre></div>
<h3 id="deploy-a-jupyter-notebook">Deploy a Jupyter notebook</h3>
<p>In this sample a Jupyter notebook is used as the user workload and its business logic requires writing the new asset. Deploy a notebook to your cluster: execute the instructions from <code>Deploy a Jupyter notebook</code> section in the <a href="../notebook-read/">notebook sample for the read flow</a> to deploy a Jupyter notebook.</p>
<h3 id="create-a-fybrikapplication-resource-associated-with-the-notebook">Create a <code>FybrikApplication</code> resource associated with the notebook</h3>
<p>Re-apply FybrikApplication as defined in scenario 1.</p>
<p>Run the following command to wait until the <code>FybrikApplication</code> status is ready:</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-write<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.status.ready}&#39;</span><span class="k">)</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;waiting for FybrikApplication&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
<span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-write<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.status.assetStates.new-data.conditions[?(@.type == &quot;Ready&quot;)].status}&#39;</span><span class="k">)</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;True&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;waiting for new-data asset&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</code></pre></div>
<p>Although the dataset has not yet been written to the object storage, a data asset has already been created in the data catalog. We will need the name of the cataloged asset in <a href="#scenario-3-read-the-newly-written-data">Scenario 3</a>, where we will read the contents of the dataset. Obtaining the name of the asset depends on the data catalog with which Fybrik is configured to work.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">With OpenMetadata</label><label for="__tabbed_2_2">With Katalog</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Run the following command to extract the new cataloged asset id from fybrikapplication status. 
This asset id will be used in the third scenario when we try to read the new asset.</p>
<div class="highlight"><pre><span></span><code><span class="nv">CATALOGED_ASSET</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-write<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.status.assetStates.new-data.catalogedAsset}&#39;</span><span class="k">)</span>
<span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$CATALOGED_ASSET</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/\./\\\./g&#39;</span><span class="k">)</span>
<span class="nv">BUCKET</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-write<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.status.provisionedStorage.new-data.details.connection.s3.bucket}&#39;</span><span class="k">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Run the following command to extract the new cataloged asset id from fybrikapplication status. 
This asset id will be used in the third scenario when we try to read the new asset.</p>
<div class="highlight"><pre><span></span><code><span class="nv">CATALOGED_ASSET</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-write<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.status.assetStates.new-data.catalogedAsset}&#39;</span><span class="k">)</span>
<span class="nv">CATALOGED_ASSET</span><span class="o">=</span>fybrik-notebook-sample/<span class="si">${</span><span class="nv">CATALOGED_ASSET</span><span class="si">}</span>
<span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="o">=</span><span class="si">${</span><span class="nv">CATALOGED_ASSET</span><span class="si">}</span>
<span class="nv">BUCKET</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-write<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.status.provisionedStorage.new-data.details.connection.s3.bucket}&#39;</span><span class="k">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="write-the-data-from-the-notebook">Write the data from the notebook</h3>
<p>This sample uses the <a href="https://www.kaggle.com/ealaxi/paysim1">Synthetic Financial Datasets For Fraud Detection</a> dataset<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> as the data that the notebook needs to write. Download and extract the file to your machine. You should now see a file named <code>PS_20174392719_1491204439457_log.csv</code>. Alternatively, use a sample of 100 lines of the same dataset by downloading <a href="https://raw.githubusercontent.com/fybrik/fybrik/master/samples/notebook/PS_20174392719_1491204439457_log.csv"><code>PS_20174392719_1491204439457_log.csv</code></a> from GitHub.</p>
<p>To reference <code>PS_20174392719_1491204439457_log.csv</code> from Jupyter notebook cells as shown later in this section do the following:</p>
<p>Jupyter notebook has an <em><code>Upload Files</code></em> button that can be used to upload <code>PS_20174392719_1491204439457_log.csv</code> to the notebook from the local machine. When referencing <code>PS_20174392719_1491204439457_log.csv</code> in the notebook cell the following should be used:</p>
<div class="highlight"><pre><span></span><code>file_path = &quot;PS_20174392719_1491204439457_log.csv&quot;
</code></pre></div>
<p>Alternatively, in your <strong>terminal</strong>, run the following commands to copy <code>PS_20174392719_1491204439457_log.csv</code> file from your local machine into <code>/tmp</code> directory in the Jupyter notebook pod:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">FILEPATH</span><span class="o">=</span><span class="s2">&quot;/path/to/PS_20174392719_1491204439457_log.csv&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">NOTEBOOK_POD_NAME</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>notebook<span class="w"> </span><span class="p">|</span>awk<span class="w"> </span><span class="s1">&#39;{print $1}&#39;</span><span class="k">)</span>
kubectl<span class="w"> </span>cp<span class="w"> </span><span class="nv">$FILEPATH</span><span class="w"> </span><span class="nv">$NOTEBOOK_POD_NAME</span>:/tmp
</code></pre></div>
<p>In that case, when referencing <code>PS_20174392719_1491204439457_log.csv</code> in the notebook cell, <code>/tmp/</code> directory should be specified, for example:</p>
<div class="highlight"><pre><span></span><code>file_path = &quot;/tmp/PS_20174392719_1491204439457_log.csv&quot;
</code></pre></div>
<p>In your <strong>terminal</strong>, run the following command to print the <a href="../../reference/crds/#fybrikapplicationstatusreadendpointsmapkey">endpoint</a> to use for reading the data. It fetches the code from the <code>FybrikApplication</code> resource:
<div class="highlight"><pre><span></span><code><span class="nv">ENDPOINT_SCHEME</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-write<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">={</span>.status.assetStates.new-data.endpoint.fybrik-arrow-flight.scheme<span class="o">}</span><span class="k">)</span>
<span class="nv">ENDPOINT_HOSTNAME</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-write<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">={</span>.status.assetStates.new-data.endpoint.fybrik-arrow-flight.hostname<span class="o">}</span><span class="k">)</span>
<span class="nv">ENDPOINT_PORT</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-write<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">={</span>.status.assetStates.new-data.endpoint.fybrik-arrow-flight.port<span class="o">}</span><span class="k">)</span>
<span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;\n</span><span class="si">${</span><span class="nv">ENDPOINT_SCHEME</span><span class="si">}</span><span class="s2">://</span><span class="si">${</span><span class="nv">ENDPOINT_HOSTNAME</span><span class="si">}</span><span class="s2">:</span><span class="si">${</span><span class="nv">ENDPOINT_PORT</span><span class="si">}</span><span class="s2">\n\n&quot;</span>
</code></pre></div>
The next steps use the endpoint to write the data in a python notebook</p>
<ol>
<li>Insert a new notebook cell to install needed packages:
  <div class="highlight"><pre><span></span><code><span class="o">%</span><span class="n">pip</span> <span class="n">install</span> <span class="n">pyarrow</span><span class="o">==</span><span class="mf">7.0</span><span class="o">.*</span>
</code></pre></div></li>
<li>Insert a new notebook cell to write data using the endpoint value extracted from the <code>FybrikApplication</code> in the previous step:
<div class="highlight"><pre><span></span><code>import pyarrow.flight as fl
import json
from pyarrow import csv

# Create a Flight client
client = fl.connect(&#39;&lt;ENDPOINT&gt;&#39;)

# Prepare the request
request = {
    &quot;asset&quot;: &quot;new-data&quot;,
    # To request specific columns add to the request a &quot;columns&quot; key with a list of column names
    # &quot;columns&quot;: [...]
}

# write the new dataset
file_path = &quot;/path/to/PS_20174392719_1491204439457_log.csv&quot;
my_table = csv.read_csv(file_path)
writer, _ = client.do_put(fl.FlightDescriptor.for_command(json.dumps(request)),
                          my_table.schema)
# Note that we do not indicate the data store nor allocate a bucket in which 
# to write the dataset. This is all done by Fybrik.
writer.write_table(my_table)
writer.close()
</code></pre></div></li>
</ol>
<h3 id="view-new-asset-through-openmetadata-ui">View new asset through OpenMetadata UI</h3>
<p>If Fybrik is configured to work with the OpenMetadata data catalog, then the newly-created asset is registered in OpenMetadata and can be viewed through the OpenMetadata UI. A tutorial on working with the OpenMetadata UI can be found <a href="../../tasks/omd-discover-s3-asset/">here</a>. It begins with an explanation how to connect to the UI and login. Once you are logged in, choose <code>Tables</code> on the menu on the left and you will see all the registered assets.</p>
<h3 id="cleanup-scenario-two">Cleanup scenario two</h3>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>delete<span class="w"> </span>cm<span class="w"> </span>sample-policy-write<span class="w"> </span>-n<span class="w"> </span>fybrik-system
kubectl<span class="w"> </span>delete<span class="w"> </span>fybrikapplications.app.fybrik.io<span class="w"> </span>my-notebook-write<span class="w"> </span>-n<span class="w"> </span>fybrik-notebook-sample
</code></pre></div>
<h2 id="scenario-3-read-the-newly-written-data">Scenario 3: Read the newly written data</h2>
<h3 id="create-a-fybrikapplication-resource-to-read-the-data-for-the-notebook">Create a <code>FybrikApplication</code> resource to read the data for the notebook</h3>
<p>Create a <a href="../../reference/crds/#fybrikapplication"><code>FybrikApplication</code></a> resource to register the notebook workload to the control plane of Fybrik:</p>
<!-- TODO: role field removed but code still requires it -->

<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOF | kubectl apply -f -</span>
<span class="s">apiVersion: app.fybrik.io/v1beta1</span>
<span class="s">kind: FybrikApplication</span>
<span class="s">metadata:</span>
<span class="s">  name: my-notebook-read</span>
<span class="s">  namespace: fybrik-notebook-sample</span>
<span class="s">  labels:</span>
<span class="s">    app: my-notebook-read</span>
<span class="s">spec:</span>
<span class="s">  selector:</span>
<span class="s">    clusterName: thegreendragon</span>
<span class="s">    workloadSelector:</span>
<span class="s">      matchLabels:</span>
<span class="s">        app: my-notebook-read</span>
<span class="s">  appInfo:</span>
<span class="s">    intent: Fraud Detection</span>
<span class="s">  data:</span>
<span class="s">    - dataSetID: ${CATALOGED_ASSET}</span>
<span class="s">      flow: read</span>
<span class="s">      requirements:</span>
<span class="s">        interface:</span>
<span class="s">          protocol: fybrik-arrow-flight</span>
<span class="s">EOF</span>
</code></pre></div>
<p>Run the following command to wait until the <code>FybrikApplication</code> is ready:</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-read<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;jsonpath={.status.ready}&#39;</span><span class="k">)</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;waiting for FybrikApplication&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
<span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-read<span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;jsonpath={.status.assetStates.</span><span class="si">${</span><span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="si">}</span><span class="s2">.conditions[?(@.type == &#39;Ready&#39;)].status}&quot;</span><span class="k">)</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;True&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;waiting for </span><span class="si">${</span><span class="nv">CATALOGED_ASSET</span><span class="si">}</span><span class="s2"> asset&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</code></pre></div>
<h3 id="read-the-dataset-from-the-notebook">Read the dataset from the notebook</h3>
<p>In your <strong>terminal</strong>, run the following command to print the <a href="../../reference/crds/#fybrikapplicationstatusreadendpointsmapkey">endpoint</a> to use for reading the data. It fetches the code from the <code>FybrikApplication</code> resource:
<div class="highlight"><pre><span></span><code><span class="nv">ENDPOINT_SCHEME</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-read<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">={</span>.status.assetStates.<span class="si">${</span><span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="si">}</span>.endpoint.fybrik-arrow-flight.scheme<span class="o">}</span><span class="k">)</span>
<span class="nv">ENDPOINT_HOSTNAME</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-read<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">={</span>.status.assetStates.<span class="si">${</span><span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="si">}</span>.endpoint.fybrik-arrow-flight.hostname<span class="o">}</span><span class="k">)</span>
<span class="nv">ENDPOINT_PORT</span><span class="o">=</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>fybrikapplication<span class="w"> </span>my-notebook-read<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">={</span>.status.assetStates.<span class="si">${</span><span class="nv">CATALOGED_ASSET_MODIFIED</span><span class="si">}</span>.endpoint.fybrik-arrow-flight.port<span class="o">}</span><span class="k">)</span>
<span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;\n</span><span class="si">${</span><span class="nv">ENDPOINT_SCHEME</span><span class="si">}</span><span class="s2">://</span><span class="si">${</span><span class="nv">ENDPOINT_HOSTNAME</span><span class="si">}</span><span class="s2">:</span><span class="si">${</span><span class="nv">ENDPOINT_PORT</span><span class="si">}</span><span class="s2">\n\n&quot;</span>
</code></pre></div>
The next steps use the endpoint to read the data in a python notebook.</p>
<ol>
<li>Insert a new notebook cell to install pandas and pyarrow packages:
  <div class="highlight"><pre><span></span><code><span class="o">%</span><span class="n">pip</span> <span class="n">install</span> <span class="n">pandas</span> <span class="n">pyarrow</span><span class="o">==</span><span class="mf">7.0</span><span class="o">.*</span>
</code></pre></div></li>
<li>Insert a new notebook cell to read the data. <strong>Notice</strong>: <code>ENDPOINT</code> and <code>CATALOGED_ASSET</code> should be replaced with the values extracted from the <code>FybrikApplication</code> as described in previous steps.
  <div class="highlight"><pre><span></span><code>import<span class="w"> </span>json
import<span class="w"> </span>pyarrow.flight<span class="w"> </span>as<span class="w"> </span>fl
import<span class="w"> </span>pandas<span class="w"> </span>as<span class="w"> </span>pd

<span class="c1"># Create a Flight client</span>
<span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>fl.connect<span class="o">(</span><span class="s1">&#39;&lt;ENDPOINT&gt;&#39;</span><span class="o">)</span>

<span class="c1"># Prepare the request</span>
<span class="nv">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;asset&quot;</span>:<span class="w"> </span><span class="s2">&quot;&lt;CATALOGED_ASSET&gt;&quot;</span>,
<span class="w">    </span><span class="c1"># To request specific columns add to the request a &quot;columns&quot; key with a list of column names</span>
<span class="w">    </span><span class="c1"># &quot;columns&quot;: [...]</span>
<span class="o">}</span>
<span class="c1"># show all columns</span>
pd.set_option<span class="o">(</span><span class="s1">&#39;display.max_columns&#39;</span>,<span class="w"> </span>None<span class="o">)</span>
<span class="c1"># Send request and fetch result as a pandas DataFrame</span>
<span class="nv">info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>client.get_flight_info<span class="o">(</span>fl.FlightDescriptor.for_command<span class="o">(</span>json.dumps<span class="o">(</span>request<span class="o">)))</span>
reader:<span class="w"> </span>fl.FlightStreamReader<span class="w"> </span><span class="o">=</span><span class="w"> </span>client.do_get<span class="o">(</span>info.endpoints<span class="o">[</span><span class="m">0</span><span class="o">]</span>.ticket<span class="o">)</span>
df_read:<span class="w"> </span>pd.DataFrame<span class="w"> </span><span class="o">=</span><span class="w"> </span>reader.read_pandas<span class="o">()</span>
</code></pre></div></li>
<li>Insert a new notebook cell with the following command to visualize the result:
  <div class="highlight"><pre><span></span><code>df_read
</code></pre></div></li>
<li>Execute all notebook cells and notice that data in the <code>oldbalanceOrg</code> column was redacted.</li>
</ol>
<h2 id="cleanup">Cleanup</h2>
<p>You can use the <a href="https://aws.amazon.com/cli/">AWS CLI</a> to remove the bucket and objects created in this sample.</p>
<p>To list all the created objects, run:
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>--endpoint-url<span class="o">=</span>http://localhost:4566<span class="w"> </span>s3api<span class="w">  </span>--bucket<span class="o">=</span><span class="si">${</span><span class="nv">BUCKET</span><span class="si">}</span><span class="w"> </span>list-objects
</code></pre></div></p>
<p>The output should look something like:
<div class="highlight"><pre><span></span><code><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;Contents&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">        </span><span class="o">{</span>
<span class="w">            </span><span class="s2">&quot;Key&quot;</span>:<span class="w"> </span><span class="s2">&quot;new-data22fb16f0c0/&quot;</span>,
<span class="w">            </span><span class="s2">&quot;LastModified&quot;</span>:<span class="w"> </span><span class="s2">&quot;2023-03-02T10:02:26+00:00&quot;</span>,
<span class="w">            </span><span class="s2">&quot;ETag&quot;</span>:<span class="w"> </span><span class="s2">&quot;\&quot;d41d8cd98f00b204e9800998ecf8427e\&quot;&quot;</span>,
<span class="w">            </span><span class="s2">&quot;Size&quot;</span>:<span class="w"> </span><span class="m">0</span>,
<span class="w">            </span><span class="s2">&quot;StorageClass&quot;</span>:<span class="w"> </span><span class="s2">&quot;STANDARD&quot;</span>,
<span class="w">            </span><span class="s2">&quot;Owner&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="s2">&quot;DisplayName&quot;</span>:<span class="w"> </span><span class="s2">&quot;webfile&quot;</span>,
<span class="w">                </span><span class="s2">&quot;ID&quot;</span>:<span class="w"> </span><span class="s2">&quot;75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a&quot;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>,
<span class="w">        </span><span class="o">{</span>
<span class="w">            </span><span class="s2">&quot;Key&quot;</span>:<span class="w"> </span><span class="s2">&quot;new-data22fb16f0c0/part-2023-03-02-10-02-19-979068-0.parquet&quot;</span>,
<span class="w">            </span><span class="s2">&quot;LastModified&quot;</span>:<span class="w"> </span><span class="s2">&quot;2023-03-02T10:02:26+00:00&quot;</span>,
<span class="w">            </span><span class="s2">&quot;ETag&quot;</span>:<span class="w"> </span><span class="s2">&quot;\&quot;a91aefdb4bf09a1a94254a9c8b6ba473-1\&quot;&quot;</span>,
<span class="w">            </span><span class="s2">&quot;Size&quot;</span>:<span class="w"> </span><span class="m">8396</span>,
<span class="w">            </span><span class="s2">&quot;StorageClass&quot;</span>:<span class="w"> </span><span class="s2">&quot;STANDARD&quot;</span>,
<span class="w">            </span><span class="s2">&quot;Owner&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="s2">&quot;DisplayName&quot;</span>:<span class="w"> </span><span class="s2">&quot;webfile&quot;</span>,
<span class="w">                </span><span class="s2">&quot;ID&quot;</span>:<span class="w"> </span><span class="s2">&quot;75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a&quot;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">]</span>
<span class="o">}</span>
</code></pre></div></p>
<p>Given the object keys returned by the previous command, run:
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>--endpoint-url<span class="o">=</span>http://localhost:4566<span class="w"> </span>s3api<span class="w"> </span>--bucket<span class="o">=</span><span class="si">${</span><span class="nv">BUCKET</span><span class="si">}</span><span class="w"> </span>delete-objects<span class="w"> </span>--delete<span class="o">=</span><span class="s1">&#39;{&quot;Objects&quot;: [{&quot;Key&quot;: &quot;new-data22fb16f0c0/&quot;}, {&quot;Key&quot;: &quot;new-data22fb16f0c0/part-2023-03-02-10-02-19-979068-0.parquet&quot;}]}&#39;</span>
</code></pre></div></p>
<p>Be sure to replace the keys in the previous command with those returned by the AWS <code>list-objects</code> command above.</p>
<p>Finally, remove the bucket by running:
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>--endpoint-url<span class="o">=</span>http://localhost:4566<span class="w"> </span>s3api<span class="w">  </span>--bucket<span class="o">=</span><span class="si">${</span><span class="nv">BUCKET</span><span class="si">}</span><span class="w"> </span>delete-bucket
</code></pre></div></p>
<p>Removing the dataset object does not remove the corresponding entry from OpenMetadata. To do so, go to the OpenMetadata UI through your browser. Choose your data asset table. At the top right, press the three vertical dots and choose <code>Delete</code>. Type <code>DELETE</code> into the form to confirm deletion.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Created by NTNU and shared under the <strong><em>CC BY-SA 4.0</em></strong> license.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../notebook-read/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Notebook sample for the read flow" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Notebook sample for the read flow
            </div>
          </div>
        </a>
      
      
        
        <a href="../delete-sample/" class="md-footer__link md-footer__link--next" aria-label="Next: Sample for the delete flow" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Sample for the delete flow
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Made with ❤️ by Fybrik contributors.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/fybrik/fybrik" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>